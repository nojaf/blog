{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/10/01/fantomas-configuration-file/","result":{"data":{"site":{"siteMetadata":{"title":"blog.nojaf.com","author":"Florian Verdonck"}},"markdownRemark":{"id":"06345061-1850-5134-8df6-87693bbf0053","excerpt":"Hi all, The cat’s out of the bag: Fantomas now has support for configuration files.\nThis means you can override the default settings using a JSON file.\nCheck…","html":"<p>Hi all,</p>\n<p>The cat’s out of the bag:</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">New version of <a href=\"https://twitter.com/IonideProject?ref_src=twsrc%5Etfw\">@IonideProject</a> is out - it updates Fantomas support to the latest version including support for Fantomas configuration file (<a href=\"https://t.co/Pw3TqQ4kYe\">https://t.co/Pw3TqQ4kYe</a>)<br><br>Props to <a href=\"https://twitter.com/verdonckflorian?ref_src=twsrc%5Etfw\">@verdonckflorian</a> and <a href=\"https://twitter.com/ChetHusk?ref_src=twsrc%5Etfw\">@ChetHusk</a> for working on this. <a href=\"https://twitter.com/hashtag/fsharp?src=hash&amp;ref_src=twsrc%5Etfw\">#fsharp</a> <a href=\"https://twitter.com/hashtag/toolingAdventures?src=hash&amp;ref_src=twsrc%5Etfw\">#toolingAdventures</a></p>&mdash; Krzysztof Cieślak (@k_cieslak) <a href=\"https://twitter.com/k_cieslak/status/1215239179472375808?ref_src=twsrc%5Etfw\">January 9, 2020</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<p>Fantomas now has support for configuration files.\nThis means you can override the default settings using a JSON file.\nCheck out <a href=\"https://github.com/fsprojects/fantomas/blob/master/docs/Documentation.md#--config-path-to-file-or-folder\">the documentation</a> for more information.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 483px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACyklEQVR42h3M227bBACAYT8BN0No6goSXZse1JxPdhs7TuIkTpw4dez4kINzjpI269KtG1rFuEFC3ACTJlUCruFiQlzB8/1IfA/wCV8kExS7NbrjFnrQQLdFUhWXSPVnZPcnFO8XLtwPNCaPlPqPxK5+J2NsGY5U6naFRPWCUzXFV/koT2LHCM8ySRSrQs2tUGznsG0R1yvg+CrrdYeep9A2U4xHKparkq8ruIMapqtSNgtIuohcT3NeTP6fCmdFidagizUNcMIOo0kZub1BCv6lc/0PxupvapNPGItPyP0/Sff+Qve/xXTyRJQcUk0icC8JPBlZzyHsp+NktRTHuSNylQymo+D5Fa4cjZ7foD9oEg4NZoFGGNRpX5W4smWuZ2UsW0TVYyzHKq83LQK/hHAoRjm9iFIzZTSjgFrP0zRSOD0F384T9gv4PZFXa4P3O5v7TQvfL/Lyust3b1zmC53ZrM71vErZkBAO8knEusJ8O+Pu7Yab24DVqsP7b2asJzqTicFyZdHvKeymGqthiUlfJeyXWI2LzMNLLCvFYlxiECgI2WqVQlPHHdnM5hbTsc48LBP0shQu95HkIxK5fc7jn+M2IozMMxa9DKtAYuylsdsRWvohi6HIzVxBqHa7jNchYWizXfu82xo02ksi2m9kOo9EGx851D5y0ngk0fqVjPUHjatbduM8m7DA1EvjmHF8K85ilEZQDIObXcjD/YBXLzxWM5NSq4WiO1QtD2+6xBlOkKpNaqbFcBjQ77fZjhVer+o83Fls5xrbqcKkF0XQ2xqbFwt291vm6xnTZUBaX5LtfkCyf0RyfkBxvieu3XKmbCiZ78jIDbr15xjVY1LZL4kl9+jqxwzbpwhnUoVKp0Ox1SSrNZAqKidil6fZO7K1W7zhA8X2S57LGw4uljxNrfjsa5FY9AnxxD5H53tEzvcoXh7QN074D3XipJ20IzWTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Fantomas configuration via console\"\n        title=\"Fantomas configuration via console\"\n        src=\"/static/e5d569f8790b13fd330d0627c652a8e9/77a9e/nojaf-fantomas-configuration-console.png\"\n        srcset=\"/static/e5d569f8790b13fd330d0627c652a8e9/12f09/nojaf-fantomas-configuration-console.png 148w,\n/static/e5d569f8790b13fd330d0627c652a8e9/e4a3f/nojaf-fantomas-configuration-console.png 295w,\n/static/e5d569f8790b13fd330d0627c652a8e9/77a9e/nojaf-fantomas-configuration-console.png 483w\"\n        sizes=\"(max-width: 483px) 100vw, 483px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>In this post I wish to answer a couple of small questions about the Fantomas configuration files.</p>\n<h2>JSON schema?</h2>\n<p>We’ve added a JSON schema definition to <a href=\"http://json.schemastore.org/fantomas\">http://schemastore.org</a>.\nSo to get intellisense in most editors, you can add <code class=\"language-text\">$schema</code> to the configuration file.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"$schema\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://json.schemastore.org/fantomas\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"KeepNewlineAfter\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"IndentOnTryWith\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Ionide integration?</h2>\n<p>When using the latest Ionide version (4.4.3 and higher), your configuration will be picked up due to the integration of Fantomas via <a href=\"https://github.com/fsharp/FsAutoComplete/\">FSAutocomplete</a>.</p>\n<p>If something doesn’t work out, you can enable verbose logging in VSCode.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"FSharp.verboseLogging\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then you can see warnings or errors in the output window.\nA fallback to the default configuration will happen when the parsing failed.</p>\n<p>For example:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABbklEQVR42k2P3W7aQBBG/f7P0KRQKZeVetGLloRc9gFMgNKoaqhtbK/xAt4Ue39PtKaJMtLRzn7zzcxu0jSCWgj2bUvTtlSiJi8KiqIgz3N2RUFd11RVRfQ2Qoz398TaNt+OPYl1llMrOTYtfSsZWok9n7F9jxsGQgBjLIO29L1lMAbnHCEWQhjPiPce5zxJTJRokHnFIdvRZSW2H3Ba44whRvRY51FKc+oU3odRD+/5Pzgx2mCsxTqHi1uCx1qL1voNY8yoheDHYd5azkIwSEnfNAxKXXqdIxFS8mebUZQlu6om25UcOsX+cKSRkr08IE8dZ22wATzgAmilLnSK+Cg7/sKRnJ4eKTdr6s2S3WpBtVmisieax5+IX2tUtuU5/wvPJ/jXgTqAOl7ySNT1mddIprcLJvMV17OU69mCyd2S6XzF1WzBx9sHpncrpvfr0fPpfs3V95QP31Ims5Sb+QM38wWff/zm62rPl1TwAh8HDZRtwidfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Warning in Ionide\"\n        title=\"Warning in Ionide\"\n        src=\"/static/c5a10a2954ab354479da04a9d7b1a773/fcda8/nojaf-fantomas-configuration-ionide-warning.png\"\n        srcset=\"/static/c5a10a2954ab354479da04a9d7b1a773/12f09/nojaf-fantomas-configuration-ionide-warning.png 148w,\n/static/c5a10a2954ab354479da04a9d7b1a773/e4a3f/nojaf-fantomas-configuration-ionide-warning.png 295w,\n/static/c5a10a2954ab354479da04a9d7b1a773/fcda8/nojaf-fantomas-configuration-ionide-warning.png 590w,\n/static/c5a10a2954ab354479da04a9d7b1a773/efc66/nojaf-fantomas-configuration-ionide-warning.png 885w,\n/static/c5a10a2954ab354479da04a9d7b1a773/c83ae/nojaf-fantomas-configuration-ionide-warning.png 1180w,\n/static/c5a10a2954ab354479da04a9d7b1a773/78415/nojaf-fantomas-configuration-ionide-warning.png 1207w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3>Room for improvement</h3>\n<p>At the time of writing, the configuration file is <a href=\"https://github.com/fsharp/FsAutoComplete/blob/52779750677d20b13ebcacc64a212cbc2a87fa7d/src/FsAutoComplete/FsAutoComplete.Lsp.fs#L982\">not cached in FSAutocomplete</a>.\nIt could be kept in memory and updated when a configuration file changes.\nFeel free to submit a pull request to FSAutocomplete.</p>\n<h2>Why a beta version?</h2>\n<p>The main reason this is not an official release just yet is due to the fact that we want to be sure this works out for everyone.\nSo <strong>please provide us feedback</strong> if you encounter any problems whatsoever.</p>\n<h2>Rider support?</h2>\n<p>If the solution we have in mind appears to be working out nicely for Ionide users, I will submit a pull request to <a href=\"https://github.com/JetBrains/fsharp-support\">JetBrains/fsharp-support</a>.\nIt might involved some more thinking to find the best approach, however I’m confident in collaboration with the team we can find a way.</p>\n<p>Please keep in mind that Fantomas updates to Rider are linked to their release cadence.</p>\n<h2>Road to adoption?</h2>\n<p>This year my personal aspiration to <strong>increase the adoption of Fantomas</strong>.\nBoth in terms of users and people who submit pull requests.</p>\n<p>I have some plans and ideas for this. Unfortunately, I’m unable to share anything just yet.\nStay tuned for more!</p>\n<p>Please o please report any issues you encounter using <a href=\"https://jindraivanek.gitlab.io/fantomas-ui/#?fantomas=preview\">our online tool</a>.\nOr post any suggestions on <a href=\"https://github.com/fsprojects/fantomas/issues\">GitHub</a>.</p>\n<blockquote>\n<p>Fantomas can only improve when feedback is presented</p>\n</blockquote>\n<p>Take care everyone!</p>\n<p>Cheers,</p>\n<p>nojaf</p>\n<p>Photo by <a style=\"background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px\" href=\"https://unsplash.com/@krutainis?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Download free do whatever you want high-resolution photos from Ivars Krutainis\"><span style=\"display:inline-block;padding:2px 3px\"><svg xmlns=\"http://www.w3.org/2000/svg\" style=\"height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white\" viewBox=\"0 0 32 32\"><title>unsplash-logo</title><path d=\"M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z\"></path></svg></span><span style=\"display:inline-block;padding:2px 3px\">Ivars Krutainis</span></a></p>","frontmatter":{"title":"Fantomas configuration file","date":"2020-01-10","path":"2020/10/01/fantomas-configuration-file/","tags":["open-source","fsharp"],"cover":{"publicURL":"/static/8300624f5c48e4195d6cde9a9c539870/nojaf.com.fantomas-configuration.jpg"}}}},"pageContext":{"slug":"/fantomas-configuration-file/","previous":{"fields":{"slug":"/using-create-react-app-with-fable/"},"frontmatter":{"title":"Using Create React App with Fable","path":"2019/12/10/using-create-react-app-with-fable/","tags":["javascript","fable","fsharp","react"]}},"next":{"fields":{"slug":"/fs-advent-2020-gitpod-snowpack-fable/"},"frontmatter":{"title":"Gitpod & Snowpack","path":"2020/12/15/fs-advent-2020-gitpod-snowpack/","tags":["open-source","fsharp","js","docker"]}}}},"staticQueryHashes":["3128451518","677231581"],"slicesMap":{}}