{"componentChunkName":"component---src-templates-blog-post-js","path":"/2023/11/21/jetbrains-rider-in-wsl2/","result":{"data":{"site":{"siteMetadata":{"title":"blog.nojaf.com","author":"Florian Verdonck"}},"markdownRemark":{"id":"a43841d1-20af-5ea4-91c5-e3ad04f27cee","excerpt":"Intro Want to run JetBrains Rider in your WSL environment? I recently navigated this process and want to share my insights.\nWith WSL2’s support for GUI apps…","html":"<h2 id=\"intro\" style=\"position:relative;\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Intro</h2>\n<p>Want to run JetBrains Rider in your WSL environment? I recently navigated this process and want to share my insights.\nWith <a href=\"https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps\">WSL2’s support for GUI apps</a>, this is now possible, though not without some hurdles.</p>\n<h2 id=\"download-rider-eap\" style=\"position:relative;\"><a href=\"#download-rider-eap\" aria-label=\"download rider eap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Download Rider EAP</h2>\n<p>Here’s how to start:</p>\n<ul>\n<li>Download the <code class=\"language-text\">tar</code> installation file for the Linux <a href=\"https://www.jetbrains.com/rider/nextversion/\">EAP version</a> in Windows.</li>\n<li>Extract the files to <code class=\"language-text\">/opt</code> using these commands:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mv</span> /mnt/c/Users/nojaf/Downloads/JetBrains.Rider-2023.3-EAP7-233.11799.22.Checked.tar.gz ~/\n<span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -xvzf ~/JetBrains.Rider-2023.3-EAP7-233.11799.22.Checked.tar.gz -C /opt</code></pre></div>\n<h2 id=\"launching-rider\" style=\"position:relative;\"><a href=\"#launching-rider\" aria-label=\"launching rider permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Launching Rider</h2>\n<p>Launch Rider with the rider.sh script:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">/opt/JetBrains<span class=\"token punctuation\">\\</span> Rider-233.11799.22/bin/rider.sh</code></pre></div>\n<h3 id=\"troubleshooting\" style=\"position:relative;\"><a href=\"#troubleshooting\" aria-label=\"troubleshooting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Troubleshooting</h3>\n<p>Rider didn’t launch for me:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ /opt/JetBrains\\ Rider-233.11799.22/bin/rider.sh\nCompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\n\nStart Failed\nInternal error. Please refer to https://jb.gg/ide/critical-startup-errors\n\nkotlinx.coroutines.JobCancellationException: Parent job is Cancelling; job=UndispatchedCoroutine{Cancelling}@1f4fb181\nCaused by: java.lang.UnsatisfiedLinkError: /opt/JetBrains Rider-233.11799.22/jbr/lib/libawt_xawt.so: libXrender.so.1: cannot open shared object file: No such file or directory\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2394)\n        at java.base/java.lang.Runtime.load0(Runtime.java:755)\n        at java.base/java.lang.System.load(System.java:1953)\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n        at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:285)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2403)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\n        at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1388)\n        at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1386)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1385)\n        at java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1428)\n        at java.desktop/java.awt.Toolkit.&lt;clinit>(Toolkit.java:1397)\n        at com.intellij.util.ui.StartupUiUtil.isWaylandToolkit(StartupUiUtil.kt:189)\n        at com.intellij.platform.ide.bootstrap.SplashManagerKt$showSplashIfNeeded$newJob$1.invokeSuspend(SplashManager.kt:89)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)\n\n-----\nYour JRE: 17.0.9+7-b1087.3 amd64 (JetBrains s.r.o.)\n/opt/JetBrains Rider-233.11799.22/jbr\n\nAlso, a UI exception occurred on an attempt to show the above message\njava.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit\n        at java.desktop/java.awt.Component.&lt;clinit>(Component.java:628)\n        at com.intellij.platform.ide.bootstrap.StartupErrorReporter.showMessage(StartupErrorReporter.java:111)\n        at com.intellij.platform.ide.bootstrap.StartupErrorReporter.showMessage(StartupErrorReporter.java:61)\n        at com.intellij.platform.ide.bootstrap.StartupUtil.lockSystemDirs(main.kt:627)\n        at com.intellij.platform.ide.bootstrap.StartupUtil.access$lockSystemDirs(main.kt:1)\n        at com.intellij.platform.ide.bootstrap.StartupUtil$lockSystemDirs$1.invokeSuspend(main.kt)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.UnsatisfiedLinkError: /opt/JetBrains Rider-233.11799.22/jbr/lib/libawt_xawt.so: libXrender.so.1: cannot open shared object file: No such file or directory [in thread \"DefaultDispatcher-worker-10\"]\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2394)\n        at java.base/java.lang.Runtime.load0(Runtime.java:755)\n        at java.base/java.lang.System.load(System.java:1953)\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n        at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:285)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2403)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\n        at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1388)\n        at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1386)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1385)\n        at java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1428)\n        at java.desktop/java.awt.Toolkit.&lt;clinit>(Toolkit.java:1397)\n        at com.intellij.util.ui.StartupUiUtil.isWaylandToolkit(StartupUiUtil.kt:189)\n        at com.intellij.platform.ide.bootstrap.SplashManagerKt$showSplashIfNeeded$newJob$1.invokeSuspend(SplashManager.kt:89)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)\n        ... 4 more</code></pre></div>\n<p>I encountered an error related to libXrender.so.1. It turns out I was missing some rendering packages, which I resolved by installing Nautilus:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> nautilus</code></pre></div>\n<p>While Nautilus isn’t the direct solution, it installs necessary dependencies.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df4b3561cc539418d5483a09ca365d4c/9b29b/rider-in-wsl2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAB2HAAAdhwGP5fFlAAABxElEQVR42oVTa3ObMBDk/39Om05nnMYND/+r2IOhRgIEtoQegDdzB0z8oU3F7EhIx2r37oj2+99IsxiHwwFpmiKOY7zFCZL4DXG8x8/dDk/P3/HtxzN2L7/W8xhJkiDLDsiyDGmS8P7r6x6REBJSCnRdh+v1ytDawNkBbdtAND2qusNFKrSq47jb7YZhGDAMFt57hBAYtB8RQV3XMMbAWsuBzjn4EJbZO4whYJ4nxlcjBI+IiKpKIM9ztG0LrTWTG2v4VlLgfcA4jgzaG8cAHya4MCP4Gd7TfIcxdiEUQuD4fkRVVTDawDqHnoi1ZpL7PGNeMU0T5mnCxOtPzPOdHUakSMgGx9MJ5/MZsq6ZUBuDm9ZrrgZWzflaVRL5nZ77AhqUIia8VAKn0zvaWqJXLQZr4byD857J6WbLe+u7W87cNlNauCh6KQpZ/lOW6JRiJWRrq9xjHreK0jljHD/X08SOItFUOJc554+qvbVP3/fo1zYiy5vKf4HUktuoaiTyIkdRFJBSQinF1SZCvebQPdj+L2EhziguBcqy5AbXD4WgQErB0o/+a4TA30SkimySskWd4ne2vGL7g/6Grl/jlUJTN/gAaAyMVulPYs0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JetBrains Rider EAP in WSL2\"\n        title=\"JetBrains Rider EAP in WSL2\"\n        src=\"/static/df4b3561cc539418d5483a09ca365d4c/fcda8/rider-in-wsl2.png\"\n        srcset=\"/static/df4b3561cc539418d5483a09ca365d4c/12f09/rider-in-wsl2.png 148w,\n/static/df4b3561cc539418d5483a09ca365d4c/e4a3f/rider-in-wsl2.png 295w,\n/static/df4b3561cc539418d5483a09ca365d4c/fcda8/rider-in-wsl2.png 590w,\n/static/df4b3561cc539418d5483a09ca365d4c/efc66/rider-in-wsl2.png 885w,\n/static/df4b3561cc539418d5483a09ca365d4c/c83ae/rider-in-wsl2.png 1180w,\n/static/df4b3561cc539418d5483a09ca365d4c/9b29b/rider-in-wsl2.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"resource-management\" style=\"position:relative;\"><a href=\"#resource-management\" aria-label=\"resource management permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resource Management</h2>\n<p>Running Rider in WSL2 can be resource-intensive. To improve performance, I configured WSL to use more memory:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[wsl2]\nmemory=16GB</code></pre></div>\n<h2 id=\"why-not-use-gateway\" style=\"position:relative;\"><a href=\"#why-not-use-gateway\" aria-label=\"why not use gateway permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why not use Gateway?</h2>\n<p>I’ve had limited success with Gateway for basic tasks. I prefer the current setup because the experience is more or less the same as having Rider in Windows.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Running JetBrains Rider in WSL2 is feasible and, for me, effective.\nWhether it’s suitable for daily use remains to be seen, but it’s a promising option for developers.</p>\n<p>Happy coding,</p>\n<p>Florian</p>\n<p><span>Photo by <a href=\"https://unsplash.com/@ellieeepr?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash\">Ellie Pourreza</a> on <a href=\"https://unsplash.com/photos/red-petaled-flowers-at-daytime-7wP39t9zRzc?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash\">Unsplash</a></span></p>","frontmatter":{"title":"Running JetBrains Rider in WSL 2","date":"2023-11-21","path":"2023/11/21/jetbrains-rider-in-wsl2/","tags":["wsl2","tooling"],"cover":{"publicURL":"/static/c830c16abb1343494b872e5f6a779346/nojaf.com.jetbrains-rider-in-wsl2.jpg"},"backgroundPosition":null}}},"pageContext":{"slug":"/jetbrains-rider-in-wsl2/","previous":{"fields":{"slug":"/unleashing-parallel-processing-in-your-fsharp-compiler/"},"frontmatter":{"title":"Unleashing Parallel Processing in Your F# Compiler","path":"2023/08/22/unleashing-parallel-processing-in-your-fsharp-compiler/","tags":["open-source","fsharp","tooling"]}},"next":null}},"staticQueryHashes":["3128451518","677231581"],"slicesMap":{}}